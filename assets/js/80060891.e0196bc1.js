"use strict";(self.webpackChunkweb_security=self.webpackChunkweb_security||[]).push([[229],{3905:function(e,n,a){a.d(n,{Zo:function(){return p},kt:function(){return m}});var t=a(7294);function r(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function i(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function l(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?i(Object(a),!0).forEach((function(n){r(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function o(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=t.createContext({}),c=function(e){var n=t.useContext(s),a=n;return e&&(a="function"==typeof e?e(n):l(l({},n),e)),a},p=function(e){var n=c(e.components);return t.createElement(s.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},u=t.forwardRef((function(e,n){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=c(a),m=r,v=u["".concat(s,".").concat(m)]||u[m]||d[m]||i;return a?t.createElement(v,l(l({ref:n},p),{},{components:a})):t.createElement(v,l({ref:n},p))}));function m(e,n){var a=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=u;var o={};for(var s in n)hasOwnProperty.call(n,s)&&(o[s]=n[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var c=2;c<i;c++)l[c]=a[c];return t.createElement.apply(null,l)}return t.createElement.apply(null,a)}u.displayName="MDXCreateElement"},1950:function(e,n,a){a.r(n),a.d(n,{contentTitle:function(){return g},default:function(){return b},frontMatter:function(){return E},metadata:function(){return y},toc:function(){return h}});var t=a(7462),r=a(3366),i=a(7294),l=a(3905),o="browserWindow_CU2T",s="browserWindowHeader_9KMa",c="buttons_HaVU",p="browserWindowAddressBar_ep3W",d="dot_AgBE",u="browserWindowMenuIcon_mrOC",m="bar_CAZr",v="browserWindowBody_jHfO";var k=function(e){var n=e.children,a=e.minHeight,t=e.url;return i.createElement("div",{className:o,style:{minHeight:a}},i.createElement("div",{className:s},i.createElement("div",{className:c},i.createElement("span",{className:d,style:{background:"#f25f58"}}),i.createElement("span",{className:d,style:{background:"#fbbe3c"}}),i.createElement("span",{className:d,style:{background:"#58cb42"}})),i.createElement("div",{className:p},t),i.createElement("div",{className:u},i.createElement("div",null,i.createElement("span",{className:m}),i.createElement("span",{className:m}),i.createElement("span",{className:m})))),i.createElement("div",{className:v},n))},f=["components"],E={id:"exercise-sockets",title:"Sockets con Kotlin",sidebar_position:3},g=void 0,y={unversionedId:"sockets/exercise-sockets",id:"sockets/exercise-sockets",isDocsHomePage:!1,title:"Sockets con Kotlin",description:"\xbfQu\xe9 vamos a hacer?",source:"@site/docs/sockets/exercise-sockets.mdx",sourceDirName:"sockets",slug:"/sockets/exercise-sockets",permalink:"/proyecto-seguridad-redes/docs/sockets/exercise-sockets",tags:[],version:"current",sidebarPosition:3,frontMatter:{id:"exercise-sockets",title:"Sockets con Kotlin",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Protocolos en sockets",permalink:"/proyecto-seguridad-redes/docs/sockets/protocols-sockets"},next:{title:"Importancia de la seguridad en la comunicaci\xf3n",permalink:"/proyecto-seguridad-redes/docs/communication-security/intro"}},h=[{value:"\xbfQu\xe9 vamos a hacer?",id:"qu\xe9-vamos-a-hacer",children:[],level:2},{value:"La aplicaci\xf3n cliente",id:"la-aplicaci\xf3n-cliente",children:[],level:2},{value:"La aplicaci\xf3n servidor",id:"la-aplicaci\xf3n-servidor",children:[],level:2},{value:"Resultados",id:"resultados",children:[{value:"Cliente",id:"cliente",children:[],level:3},{value:"Servidor",id:"servidor",children:[],level:3}],level:2},{value:"Anexos",id:"anexos",children:[],level:2}],S={toc:h};function b(e){var n=e.components,a=(0,r.Z)(e,f);return(0,l.kt)("wrapper",(0,t.Z)({},S,a,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"qu\xe9-vamos-a-hacer"},"\xbfQu\xe9 vamos a hacer?"),(0,l.kt)("p",null,"Se har\xe1 una peque\xf1a implementaci\xf3n del uso del sockets utilizando el lenguaje de programaci\xf3n ",(0,l.kt)("a",{parentName:"p",href:"https://kotlinlang.org/"},"Kotlin"),". Se construir\xe1n dos aplicaciones: un servidor que estar\xe1 a la escucha de todas las peticiones que pueda recibir; y un cliente que har\xe1 peticiones a dicho servidor."),(0,l.kt)("p",null,"El funcionamiento de las aplicaciones ser\xe1 muy sencillo. El cliente mandar\xe1 una cadena de texto al servidor; a continuaci\xf3n, el servidor realiz\xe1 cierto procesamiento para convertir esa cadena de texto a may\xfascula para, finalmente, ser devuelta al cliente que le mand\xf3 dicha cadena de texto."),(0,l.kt)("p",{align:"center"},(0,l.kt)("img",{src:"/img/sockets/sockets-exercise.png",alt:"Comunicaci\xf3n entre hosts y servidor"})),(0,l.kt)("h2",{id:"la-aplicaci\xf3n-cliente"},"La aplicaci\xf3n cliente"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="Client.kt"',title:'"Client.kt"'},'import java.io.PrintWriter\nimport java.net.Socket\nimport java.util.*\n\nprivate const val HOST = "localhost"\n\nfun main(args: Array<String>) {\n    val clientSocket = Socket(HOST, PORT)\n\n    clientSocket.use {\n        // Entrada para permitir escribir mensajes por consola.\n        val entrada = Scanner(System.`in`)\n\n        // Mensaje respuesta del servidor.\n        val respuesta = Scanner(clientSocket.getInputStream())\n\n        // Salida para el env\xedo de mensajes hacia el servidor.\n        val salida = PrintWriter(clientSocket.getOutputStream(), true)\n\n        println("Enviar mensaje al servidor: ")\n\n        while (entrada.hasNextLine()) {\n            salida.println(entrada.nextLine())\n\n            println("Respuesta del servidor: ${respuesta.nextLine()}")\n        }\n\n    }\n}\n')),(0,l.kt)("h2",{id:"la-aplicaci\xf3n-servidor"},"La aplicaci\xf3n servidor"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="UppercaseServer.kt"',title:'"UppercaseServer.kt"'},'import java.io.PrintWriter\nimport java.net.ServerSocket\nimport java.util.*\n\nconst val PORT = 9000\n\nfun main(args: Array<String>) {\n    val serverSocket = ServerSocket(PORT) // Escuchamos en el puerto 9000.\n\n    serverSocket.use {\n\n        println("Escuchando en el puerto: $PORT")\n\n        while (true) {\n            val client = serverSocket.accept()\n\n            client.use {\n                val entrada = Scanner(client.getInputStream())\n                val salida = PrintWriter(client.getOutputStream(), true)\n\n                println("Informaci\xf3n del cliente: $it")\n\n                while (entrada.hasNextLine()) {\n                    // Leemos el mensaje del cliente.\n                    val mensajeCliente = entrada.nextLine()\n\n                    // Convertimos a may\xfasculas el mensaje.\n                    val respuesta = mensajeCliente.uppercase()\n\n                    println("Enviando la respuesta: $respuesta")\n\n                    // Enviamos la respuesta al cliente.\n                    salida.println(respuesta)\n                }\n\n            }\n        }\n\n    }\n}\n')),(0,l.kt)("h2",{id:"resultados"},"Resultados"),(0,l.kt)("h3",{id:"cliente"},"Cliente"),(0,l.kt)(k,{mdxType:"BrowserWindow"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"Enviar mensaje al servidor:\nHola\nRespuesta del servidor: HOLA\nEste es un mensaje para el servidor\nRespuesta para el servidor: ESTE ES UN MENSAJE PARA EL SERVIDOR\n"))),(0,l.kt)("p",null,"En primer lugar, el cliente env\xeda la palabra ",(0,l.kt)("inlineCode",{parentName:"p"},"Hola")," al servidor; el servidor responde con la palabra ",(0,l.kt)("inlineCode",{parentName:"p"},"HOLA"),", que es justo el resultado que se esperaba. Este procedimiento vuelve a repetirse, pero esta vez con la frase ",(0,l.kt)("inlineCode",{parentName:"p"},"Este es un mensaje para el servidor"),", a lo que el servidor responde con el texto ",(0,l.kt)("inlineCode",{parentName:"p"},"ESTE ES UN MENSAJE PARA EL SERVIDOR"),"."),(0,l.kt)("h3",{id:"servidor"},"Servidor"),(0,l.kt)(k,{mdxType:"BrowserWindow"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"Escuchando en el puerto: 9000\nInformaci\xf3n del cliente: Socket[addr=/127.0.0.1,port=53916,localport=9000]\nEnviando la respuesta: HOLA\nEnviando la respuesta: ESTA ES UNA FRASE PARA EL SERVIDOR\n"))),(0,l.kt)("p",null,"Por el lado del servidor, las cosas son un poco diferentes. Primeramente, se acepta la conexi\xf3n del cliente. Por la direcci\xf3n de host ",(0,l.kt)("inlineCode",{parentName:"p"},"127.0.0.1")," (localhost) se trata de una aplicaci\xf3n que se est\xe1 ejecutando en la misma computadora en la que se ejecuta el servidor; adem\xe1s, se observa que el n\xfamero de puerto que el sistema operativo decidi\xf3 asignarle al cliente es el ",(0,l.kt)("inlineCode",{parentName:"p"},"53916"),"."),(0,l.kt)("p",null,"Una vez que el servidor acepta la conexi\xf3n, recibe el mensaje ",(0,l.kt)("inlineCode",{parentName:"p"},"Hola"),", lo convierte a may\xfascula y se lo env\xeda al cliente como ",(0,l.kt)("inlineCode",{parentName:"p"},"HOLA"),". Este operaci\xf3n se vuelve a repetir para el mensaje ",(0,l.kt)("inlineCode",{parentName:"p"},"Este es un mensaje para el servidor"),", por lo que el servidor la renv\xeda como ",(0,l.kt)("inlineCode",{parentName:"p"},"ESTE ES UN MENSAJE PARA EL SERVIDOR"),"."),(0,l.kt)("h2",{id:"anexos"},"Anexos"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"#"},"C\xf3digo fuente de ambas aplicaciones")))}b.isMDXComponent=!0}}]);